<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Rec & Tech</title>
    <!-- Inclusão do Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="bg-light"> <!-- Fundo claro para um visual mais leve -->
    <div class="container my-4"> <!-- Adiciona margem ao redor -->
        <div class="jumbotron"> <!-- Elemento para destaque -->
            <h1 class="display-4">Calcular Melhor Rota</h1> <!-- Título grande -->

            <hr class="my-4"> <!-- Linha de separação -->

            <!-- Link para mostrar endereços de coleta -->
            <p>
                <a href="{% url 'melhor_rota' %}" class="btn btn-primary">Endereços precisando de coleta</a>
            </p>

            <!-- Lista dos endereços que precisam de coleta -->
            <div class="mb-4"> <!-- Margem inferior para separação -->
                {% for endereco in enderecos_brutos %}
                <p class="text-muted"> <!-- Texto mais suave para visualização secundária -->
                    {{ endereco }}
                </p>
                {% endfor %}
            </div>

            <!-- Formulário para calcular a rota -->
            <form method="POST" action="{% url 'melhor_rota' %}" class="mt-3"> <!-- Classe para margens -->
                {% csrf_token %}

                <!-- Campo para localização atual -->
                <div class="form-group">
                    <label for="localizacao_atual">Localização Atual:</label>
                    <input type="text" name="localizacao_atual" id="localizacao_atual" required class="form-control" />
                </div>

                <!-- Botão para calcular a rota -->
                <input type="submit" value="Calcular Rota" class="btn btn-success" /> <!-- Botão estilizado -->
            </form>

            {% if rota_url %}
            <!-- Se uma rota foi calculada, exibir a rota -->
            <div class="mt-4"> <!-- Margem superior para separação -->
                <h2>Melhor Rota</h2>
                <p>A melhor rota para percorrer todos os endereços é:</p>
                <a href="{{ rota_url }}" target="_blank" class="btn btn-info">Abrir Rota no Google Maps</a>
                <ul class="list-group"> <!-- Lista estilizada -->
                    {% for endereco in melhor_permutacao %}
                    <li class="list-group-item">{{ endereco }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            {% if error %}
            <!-- Alerta para erros -->
            <div class="alert alert-danger mt-4"> <!-- Estilizar mensagem de erro -->
                {{ error }}
            </div>
            {% endif %}
        </div>
    </div>

  
</body>
</html>
