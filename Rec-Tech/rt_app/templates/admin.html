{% extends 'main.html' %}

{% block content %}
<div class="container-fluid mt-4"> <!-- Use container-fluid para mais largura -->
  <div class="card"> <!-- Envolve todo o conteúdo em um card -->
    <div class="card-header"> <!-- Cabeçalho do card -->
      <h2>Lixeiras Cadastradas</h2> <!-- Título da seção -->
    </div>
    <div class="card-body"> <!-- Corpo do card -->
      <table class="table table-striped w-100"> <!-- Remove table-responsive -->
        <thead> <!-- Cabeçalho da tabela -->
          <tr>
            <th>Email do Proprietário</th>
            <th>Tipo de Resíduo</th>
            <th>Localização</th>
            <th>Capacidade Máxima (kg)</th>
           
            <th>Status de Manutenção</th>
            <th>Progresso (%)</th>
          </tr>
        </thead>
        <tbody>
          {% for lixeira in lixeiras %}
          <tr>
            <td>{{ lixeira.email }}</td> <!-- Email do proprietário -->
            <td>{{ lixeira.tipo_residuo }}</td> <!-- Tipo de resíduo -->
            <td>{{ lixeira.localizacao }}</td> <!-- Localização -->
            <td>{{ lixeira.capacidade_maxima }}</td> <!-- Capacidade máxima -->
            
            <td> <!-- Status de Manutenção -->
              {% if lixeira.status_manutencao %}
                <span class="text-danger">Sim</span> <!-- Vermelho para manutenção necessária -->
              {% else %}
                <span class="text-success">Não</span> <!-- Verde para manutenção não necessária -->
              {% endif %}
            </td>
            <td> <!-- Barra de Progresso com Gradiente -->
              <div class="progress">
                <div class="progress-bar custom-progress-bar" 
                     role="progressbar" 
                     aria-valuenow="{{lixeira.get_progresso }}" 
                     aria-valuemin="0" 
                     aria-valuemax="100">
                  {{ lixeira.get_progresso }}% <!-- Valor do progresso -->
                </div>
              </div>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock content %}

